<%# locals: (nav_links:) %>

<div class="flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-6">
  <div class="flex h-16 shrink-0 items-center mx-auto">
    <%= image_tag "logo-black.svg", class: "h-8 w-auto", alt: "Balkan Ruby logo dark:hidden" %>
    <%= image_tag "logo-white.svg", class: "h-8 w-auto", alt: "Balkan Ruby logo dark:inline-block" %>
  </div>

  <nav class="flex flex-1 flex-col">
    <ul role="list" class="flex flex-1 flex-col gap-y-7">
      <li>
        <ul role="list" class="-mx-2 space-y-1">
          <% nav_links.each do |nav| %>
            <li>
              <% if nav[:items] %>
                <div data-controller="expand">
                  <button data-action="expand#toggle" type="button" class="flex w-full items-center gap-x-3 rounded-md p-2 text-left text-sm/6 font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700" aria-controls="sub-menu-1" aria-expanded="false">
                    <svg class="size-5 shrink-0 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
                    </svg>
                    <%= nav[:name] %>
                  </button>
                  <ul data-expand-target="target"
                    class="mt-1 px-2 <%= "hidden" if nav[:items].none? { current_page? it[:path] } %>"
                  >
                    <% nav[:items].each do |item| %>
                      <li>
                        <%= link_to item[:name], item[:path], title: item[:name], class: [
                          "block rounded-md py-2 pl-9 pr-2 text-sm/6 text-gray-700 dark:text-gray-300 truncate hover:bg-gray-50 dark:hover:bg-gray-700",
                          "bg-gray-50 dark:bg-gray-700": current_page?(item[:path])
                        ] %>
                      </li>
                    <% end %>
                  </ul>
                </div>
              <% else %>
                <%= link_to nav[:name], nav[:path], title: nav[:name], class: [
                  "block rounded-md py-2 pl-10 pr-2 text-sm/6 font-semibold text-gray-700 dark:text-gray-300 truncate hover:bg-gray-50 dark:hover:bg-gray-700",
                  "bg-gray-50 dark:bg-gray-700": current_page?(nav[:path])
                ] %>
              <% end %>
            </li>
          <% end %>
        </ul>
      </li>
      <li class="-mx-6 mt-auto">
        <%= link_to root_path, class: "flex items-center gap-x-4 px-6 py-3 text-sm/6 font-semibold text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700", "data-turbo": false do %>
          <svg class="size-5 shrink-0 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path fill-rule="evenodd" d="M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm5.03 4.72a.75.75 0 0 1 0 1.06l-1.72 1.72h10.94a.75.75 0 0 1 0 1.5H10.81l1.72 1.72a.75.75 0 1 1-1.06 1.06l-3-3a.75.75 0 0 1 0-1.06l3-3a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" />
          </svg>

          <span aria-hidden="true">Event website</span>
        <% end %>
      </li>
    </ul>
  </nav>
</div>
