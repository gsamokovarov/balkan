<%= render "section", title: "Communication Templates" do %>
  <div class="mb-4">
    <%= admin_button :primary, link: new_admin_communication_template_path do %>
      Create Template
    <% end %>
  </div>

  <% if @templates.any? %>
    <%= admin_table @templates do |table| %>
      <% table.column "#" do |template| %>
        <%= link_to template.id, admin_communication_template_path(template), class: "text-indigo-600 dark:text-indigo-400 hover:underline" %>
      <% end %>
      <% table.column "Name" do |template| %>
        <%= link_to template.name, admin_communication_template_path(template), class: "text-indigo-600 dark:text-indigo-400 hover:underline" %>
      <% end %>
      <% table.column "Description" do |template| %>
        <%= truncate(template.description, length: 80) || "â€”" %>
      <% end %>
      <% table.column "Created" do |template| %>
        <%= template.created_at.strftime("%Y-%m-%d") %>
      <% end %>
      <% table.column "Actions" do |template| %>
        <div class="flex gap-1">
          <%= admin_button :secondary, :small, link: edit_admin_communication_template_path(template) do %>
            Edit
          <% end %>
          <%= admin_button :danger, :small, delete: admin_communication_template_path(template) do %>
            Delete
          <% end %>
        </div>
      <% end %>
    <% end %>
    <%= admin_paginate @templates %>
  <% else %>
    <%= render "empty_state" do %>
      <%= admin_button :primary, link: new_admin_communication_template_path do %>
        Create First Template
      <% end %>
    <% end %>
  <% end %>
<% end %>
