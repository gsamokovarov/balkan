<%# locals: (blog_post:) %>

<div class="flex flex-col md:flex-row md:space-x-6" data-controller="markdown-preview">
  <%= admin_form [:admin, blog_post.event, blog_post], html: {class: "sm:max-w-sm flex-1"} do |f| %>
    <%= f.readonly_input :event_id, [[blog_post.event.name, blog_post.event.id]] %>
    <%= f.select_input :author_id, User.all.map { [it.email, it.id] }, include_blank: true %>
    <%= f.date_input :date, required: true %>
    <%= f.text_input :title, required: true %>
    <%= f.text_area_input :content, required: true, data: { markdown_preview_target: "source" } %>
    <%= f.file_input :ogp_image %>
    <%= f.check_box_input :published %>

    <%= f.submit %>
  <% end %>

  <div class="w-96 overflow-scroll">
    <h2 class="text-lg font-semibold mb-6">Preview</h2>
    <div class="prose" data-markdown-preview-target="preview"></div>
  </div>
</div>
