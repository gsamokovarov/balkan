<%# locals: (venue: nil, highlight: false) %>

<%= render "section", title: "Venue", highlight: do %>
  <%= render "prose" do %>
    <%= render_markdown venue.description %>
  <% end %>

  <% if venue.gallery_images.any? %>
    <div class="-mx-4 px-4 h-72 flex gap-4 overflow-x-auto snap-x snap-mandatory sm:h-96">
      <% venue.gallery_images.each do |image| %>
        <%= image_tag image, class: "snap-always snap-center border-2 border-black rounded-md shrink-0 w-10/12 h-full object-cover sm:w-3/4", lazy: true %>
      <% end %>
    </div>
  <% end %>

  <% if venue.directions %>
    <%= render "prose" do %>
      <%= render_markdown venue.directions, inline_images: venue.additional_images %>
    <% end %>
  <% end %>

  <div class="space-y-2">
    <% if venue.place_id %>
      <div class="border-2 border-black rounded-md overflow-hidden h-72 sm:h-96">
        <iframe width="100%" height="100%" frameborder="0" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps/embed/v1/place?key=<%= Settings.google_api_key %>&q=place_id:<%= venue.place_id %>">
        </iframe>
      </div>
    <% end %>

    <% if venue.address %>
      <address><%= venue.address %></address>
    <% end %>
  </div>
<% end %>
