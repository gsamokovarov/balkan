<% title "Slides" %>

<section class="center">
  <div class="text-4xl sm:text-5xl font-black pb-8">
    <%== Current.event.title %>
  </div>
  <div class="text-2xl sm:text-3xl font-semibold mt-3 text-gray-600">
    <%== Current.event.subtitle %>
  </div>
</section>

<section class="center">
  <div class="text-3xl sm:text-4xl font-extrabold pb-8">Thank you, attendees! ğŸ™‡</div>
  <div class="text-2xl sm:text-3xl font-semibold mt-3 text-gray-600">
    <span class="text-banitsa-500"><%= Current.event.tickets.count %></span> attendees
  </div>
</section>

<section class="center">
  <div class="text-3xl sm:text-4xl font-extrabold pb-8">Thank you, community partners! ğŸ™‡</div>
  <div class="grid grid-cols-2 gap-8 lg:grid-cols-3">
    <% Current.event.community_partners.each do |partner| %>
      <%= link_to partner.url, title: partner.name, class: "flex justify-center w-full h-16 p-2 border-2 border-black bg-white rounded-md" do %>
        <%= image_tag partner.logo, class: "w-auto h-full object-contain", alt: partner.name, lazy: true %>
      <% end %>
    <% end %>
  </div>
</section>

<section class="center">
  <div class="text-3xl sm:text-4xl font-extrabold pb-8">Thank you, sponsors! ğŸ™‡</div>
  <div class="grid grid-cols-4 gap-4 sm:gap-6">
    <% Current.event.sponsors.each do |(_, sponsorship)| %>
      <% sponsorship.each do |sponsorship| %>
        <%= link_to sponsors_path(anchor: sponsorship.sponsor.name), class: [
          "flex justify-center w-full h-24 p-4 bg-white border-2 border-black rounded-md",
          sponsorship.fiscal? ? "col-span-2" : "col-span-1",
        ] do %>
          <%= image_tag sponsorship.sponsor.logo, class: "w-auto h-full object-contain", lazy: true %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</section>

<section class="center">
  <div class="flex justify-center items-center pb-8">
    <%= image_tag Current.event.logo, class: "w-56", alt: "Balkan Ruby logo" %>
  </div>
  <div class="text-2xl sm:text-3xl font-semibold mt-3 text-gray-600">
    <%= Current.event.host %>
  </div>
</section>

<% if mc = Current.event.lineup_members.find_by(role: "Master of Ceremonies") %>
  <section class="center">
    <div class="flex justify-center items-center">
      <%= image_tag mc.speaker.avatar, class: "w-1/2 border-2 border-black rounded-md" %>
    </div>
  </section>
<% end %>

<% fiscal_sponsors = Current.event.sponsorships.filter(&:fiscal?).cycle %>

<% Current.event.schedule.slots.where(description: "Talk").each do |slot| %>
  <% sponsorship = fiscal_sponsors.next %>

  <section class="center" data-controller="sponsors" data-sponsors-sponsor-src-value="<%= url_for sponsorship.ogp_image %>">
    <%= image_tag slot.lineup_member.talk.ogp_image, class: "border-2 border-black bg-white rounded-md", "data-sponsors-target": "image" %>
  </section>
<% end %>

<section class="center">
  <div class="text-3xl sm:text-4xl font-extrabold pb-8">Thank you ğŸ‘‹</div>
</section>
